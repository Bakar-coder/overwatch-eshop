{"message":"Cannot destructure property 'id' of 'req.body.product' as it is undefined.","stack":"TypeError: Cannot destructure property 'id' of 'req.body.product' as it is undefined.\n    at exports.postCart (C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\controllers\\shop\\cart.js:10:11)\n    at newFn (C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at complete (C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\node_modules\\passport\\lib\\middleware\\authenticate.js:263:13)\n    at C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\node_modules\\passport\\lib\\middleware\\authenticate.js:270:15\n    at pass (C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\node_modules\\passport\\lib\\authenticator.js:431:14)\n    at Authenticator.transformAuthInfo (C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\node_modules\\passport\\lib\\authenticator.js:453:5)\n    at C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\node_modules\\passport\\lib\\middleware\\authenticate.js:267:22\n    at IncomingMessage.req.login.req.logIn (C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\node_modules\\passport\\lib\\http\\request.js:55:13)\n    at JwtStrategy.strategy.success (C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\node_modules\\passport\\lib\\middleware\\authenticate.js:248:13)\n    at verified (C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\node_modules\\passport-jwt\\lib\\strategy.js:115:41)\n    at JwtStrategy._verify (C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\config\\passport.js:15:26)","level":"error","timestamp":"2020-03-09T08:55:39.567Z"}
{"message":"Identifier 'product' has already been declared","stack":"C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\controllers\\shop\\cart.js:13\n  let product;\n      ^\n\nSyntaxError: Identifier 'product' has already been declared\n    at wrapSafe (internal/modules/cjs/loader.js:1060:16)\n    at Module._compile (internal/modules/cjs/loader.js:1108:27)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1164:10)\n    at Module.load (internal/modules/cjs/loader.js:993:32)\n    at Function.Module._load (internal/modules/cjs/loader.js:892:14)\n    at Module.require (internal/modules/cjs/loader.js:1033:19)\n    at require (internal/modules/cjs/helpers.js:72:18)\n    at Object.<anonymous> (C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\routes\\api\\shop\\cart.js:3:31)\n    at Module._compile (internal/modules/cjs/loader.js:1144:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1164:10)\n    at Module.load (internal/modules/cjs/loader.js:993:32)\n    at Function.Module._load (internal/modules/cjs/loader.js:892:14)\n    at Module.require (internal/modules/cjs/loader.js:1033:19)\n    at require (internal/modules/cjs/helpers.js:72:18)\n    at Object.<anonymous> (C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\server.js:49:14)\n    at Module._compile (internal/modules/cjs/loader.js:1144:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1164:10)\n    at Module.load (internal/modules/cjs/loader.js:993:32)\n    at Function.Module._load (internal/modules/cjs/loader.js:892:14)\n    at Function.executeUserEntryPoint [as runMain] (internal/modules/run_main.js:71:12)\n    at internal/main/run_main_module.js:17:47","level":"error","timestamp":"2020-03-09T08:56:52.478Z"}
{"date":"Mon Mar 09 2020 11:56:52 GMT+0300 (East Africa Time)","process":{"pid":12948,"uid":null,"gid":null,"cwd":"C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v13.6.0","argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\server.js"],"memoryUsage":{"rss":54525952,"heapTotal":33247232,"heapUsed":20055864,"external":1803425}},"os":{"loadavg":[0,0,0],"uptime":49162},"trace":[{"column":16,"file":"internal/modules/cjs/loader.js","function":"wrapSafe","line":1060,"method":null,"native":false},{"column":27,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":1108,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":1164,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":993,"method":"load","native":false},{"column":14,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":892,"method":"_load","native":false},{"column":19,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":1033,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":72,"method":null,"native":false},{"column":31,"file":"C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\routes\\api\\shop\\cart.js","function":null,"line":3,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":1144,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":1164,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":993,"method":"load","native":false},{"column":14,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":892,"method":"_load","native":false},{"column":19,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":1033,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":72,"method":null,"native":false},{"column":14,"file":"C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\server.js","function":null,"line":49,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":1144,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":1164,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":993,"method":"load","native":false},{"column":14,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":892,"method":"_load","native":false},{"column":12,"file":"internal/modules/run_main.js","function":"Function.executeUserEntryPoint [as runMain]","line":71,"method":"executeUserEntryPoint [as runMain]","native":false},{"column":47,"file":"internal/main/run_main_module.js","function":null,"line":17,"method":null,"native":false}],"stack":["C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\controllers\\shop\\cart.js:13","  let product;","      ^","","SyntaxError: Identifier 'product' has already been declared","    at wrapSafe (internal/modules/cjs/loader.js:1060:16)","    at Module._compile (internal/modules/cjs/loader.js:1108:27)","    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1164:10)","    at Module.load (internal/modules/cjs/loader.js:993:32)","    at Function.Module._load (internal/modules/cjs/loader.js:892:14)","    at Module.require (internal/modules/cjs/loader.js:1033:19)","    at require (internal/modules/cjs/helpers.js:72:18)","    at Object.<anonymous> (C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\routes\\api\\shop\\cart.js:3:31)","    at Module._compile (internal/modules/cjs/loader.js:1144:30)","    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1164:10)","    at Module.load (internal/modules/cjs/loader.js:993:32)","    at Function.Module._load (internal/modules/cjs/loader.js:892:14)","    at Module.require (internal/modules/cjs/loader.js:1033:19)","    at require (internal/modules/cjs/helpers.js:72:18)","    at Object.<anonymous> (C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\server.js:49:14)","    at Module._compile (internal/modules/cjs/loader.js:1144:30)","    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1164:10)","    at Module.load (internal/modules/cjs/loader.js:993:32)","    at Function.Module._load (internal/modules/cjs/loader.js:892:14)","    at Function.executeUserEntryPoint [as runMain] (internal/modules/run_main.js:71:12)","    at internal/main/run_main_module.js:17:47"],"level":"error","message":"uncaughtException: Identifier 'product' has already been declared","timestamp":"2020-03-09T08:56:52.552Z"}
{"message":"Cannot read property 'id' of undefined","stack":"TypeError: Cannot read property 'id' of undefined\n    at exports.postCart (C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\controllers\\shop\\cart.js:12:35)","level":"error","timestamp":"2020-03-09T08:57:43.750Z"}
{"message":"id is not defined","stack":"ReferenceError: id is not defined\n    at exports.postCart (C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\controllers\\shop\\cart.js:22:36)","level":"error","timestamp":"2020-03-09T09:01:58.938Z"}
{"message":"Product.findById is not a function","stack":"TypeError: Product.findById is not a function\n    at exports.postCart (C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\controllers\\shop\\cart.js:23:27)","level":"error","timestamp":"2020-03-09T09:03:36.748Z"}
{"message":"Product.findById is not a function","stack":"TypeError: Product.findById is not a function\n    at exports.postCart (C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\controllers\\shop\\cart.js:23:27)","level":"error","timestamp":"2020-03-09T09:34:10.430Z"}
{"message":"Route.post() requires a callback function but got a [object Undefined]","stack":"Error: Route.post() requires a callback function but got a [object Undefined]\n    at Route.<computed> [as post] (C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\node_modules\\express\\lib\\router\\route.js:202:15)\n    at Object.<anonymous> (C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\routes\\api\\shop\\cart.js:7:4)\n    at Module._compile (internal/modules/cjs/loader.js:1144:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1164:10)\n    at Module.load (internal/modules/cjs/loader.js:993:32)\n    at Function.Module._load (internal/modules/cjs/loader.js:892:14)\n    at Module.require (internal/modules/cjs/loader.js:1033:19)\n    at require (internal/modules/cjs/helpers.js:72:18)\n    at Object.<anonymous> (C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\server.js:49:14)\n    at Module._compile (internal/modules/cjs/loader.js:1144:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1164:10)\n    at Module.load (internal/modules/cjs/loader.js:993:32)\n    at Function.Module._load (internal/modules/cjs/loader.js:892:14)\n    at Function.executeUserEntryPoint [as runMain] (internal/modules/run_main.js:71:12)\n    at internal/main/run_main_module.js:17:47","level":"error","timestamp":"2020-03-09T09:51:09.608Z"}
{"date":"Mon Mar 09 2020 12:51:09 GMT+0300 (East Africa Time)","process":{"pid":12292,"uid":null,"gid":null,"cwd":"C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v13.6.0","argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\server.js"],"memoryUsage":{"rss":54251520,"heapTotal":33509376,"heapUsed":20008808,"external":1803425}},"os":{"loadavg":[0,0,0],"uptime":52419},"trace":[{"column":15,"file":"C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\node_modules\\express\\lib\\router\\route.js","function":"Route.<computed> [as post]","line":202,"method":"<computed> [as post]","native":false},{"column":4,"file":"C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\routes\\api\\shop\\cart.js","function":null,"line":7,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":1144,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":1164,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":993,"method":"load","native":false},{"column":14,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":892,"method":"_load","native":false},{"column":19,"file":"internal/modules/cjs/loader.js","function":"Module.require","line":1033,"method":"require","native":false},{"column":18,"file":"internal/modules/cjs/helpers.js","function":"require","line":72,"method":null,"native":false},{"column":14,"file":"C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\server.js","function":null,"line":49,"method":null,"native":false},{"column":30,"file":"internal/modules/cjs/loader.js","function":"Module._compile","line":1144,"method":"_compile","native":false},{"column":10,"file":"internal/modules/cjs/loader.js","function":"Module._extensions..js","line":1164,"method":".js","native":false},{"column":32,"file":"internal/modules/cjs/loader.js","function":"Module.load","line":993,"method":"load","native":false},{"column":14,"file":"internal/modules/cjs/loader.js","function":"Module._load","line":892,"method":"_load","native":false},{"column":12,"file":"internal/modules/run_main.js","function":"Function.executeUserEntryPoint [as runMain]","line":71,"method":"executeUserEntryPoint [as runMain]","native":false},{"column":47,"file":"internal/main/run_main_module.js","function":null,"line":17,"method":null,"native":false}],"stack":["Error: Route.post() requires a callback function but got a [object Undefined]","    at Route.<computed> [as post] (C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\node_modules\\express\\lib\\router\\route.js:202:15)","    at Object.<anonymous> (C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\routes\\api\\shop\\cart.js:7:4)","    at Module._compile (internal/modules/cjs/loader.js:1144:30)","    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1164:10)","    at Module.load (internal/modules/cjs/loader.js:993:32)","    at Function.Module._load (internal/modules/cjs/loader.js:892:14)","    at Module.require (internal/modules/cjs/loader.js:1033:19)","    at require (internal/modules/cjs/helpers.js:72:18)","    at Object.<anonymous> (C:\\Users\\Casper-Adams\\Desktop\\projects\\node-sql\\server.js:49:14)","    at Module._compile (internal/modules/cjs/loader.js:1144:30)","    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1164:10)","    at Module.load (internal/modules/cjs/loader.js:993:32)","    at Function.Module._load (internal/modules/cjs/loader.js:892:14)","    at Function.executeUserEntryPoint [as runMain] (internal/modules/run_main.js:71:12)","    at internal/main/run_main_module.js:17:47"],"level":"error","message":"uncaughtException: Route.post() requires a callback function but got a [object Undefined]","timestamp":"2020-03-09T09:51:09.663Z"}
